<template name="configuration_explorer">
  <style>
    .select2.select2-container {
      /* The image used */
      width: 58% !important;
    }
  </style>
    <!-- Content Wrapper. Contains page content -->
    <div class="content-wrapper">
      <!-- Content Header (Page header) -->
      <div class="content-header">
        <div class="container-fluid">
          <div class="row mb-2">
            <div class="col-sm-6">
              <h1 class="m-0 text-dark">Configuration | <b>Explorer</b></h1>
            </div><!-- /.col -->
            <div class="col-sm-6">
              <ol class="breadcrumb float-sm-right">
                <li class="breadcrumb-item">Configuration</li>
                <li class="breadcrumb-item active"> Explorer</li>
              </ol>
            </div>
          </div><!-- /.row -->
        </div><!-- /.container-fluid -->
      </div>
      <!-- /.content-header -->
  
      <!-- Main content -->
      <div class="content">
        <div class="container-fluid">
          <!-- Order Scan -->
          <div class="row">
            <div class="col-lg-12">
              <div class="card">
                <div class="card-header">
                  <div class="col-lg-6">
                      <h5 >Hierarchical Location</h5>
                  </div>
                </div>
                <div class="card-body">
                  {{#each lv1}}
                  <ul id="myUL">
                    <li>
                      <span class="caret" id="{{_id}}">
                        <i class="nav-icon fas fa-sliders"></i>
                        <a href="/configuration/explorer/view/{{_id}}"> {{name}}</a>
                      </span>
                      <ul class="nested" >
                        {{#let lv2 = (getChild _id)}}
                        {{#each lv2}}
                        <li>
                          <span class="caret " id="{{_id}}">
                            <i class="nav-icon fas fa-sliders"></i>
                            <a href="/configuration/explorer/view/{{_id}}"> {{name}}</a>
                          </span>
                          <ul class="nested"  >
                            {{#let lv3 = (getChild _id)}}
                            {{#each lv3}}
                            <li>
                              <span class="caret" id="{{_id}}">
                                <i class="nav-icon fas fa-sliders"></i>
                                <a href="/configuration/explorer/view/{{_id}}"> {{name}}</a>
                              </span>
                              <ul class="nested" >
                                {{#let lv4 = (getChild _id)}}
                                {{#each lv4}}
                                <li>
                                  <span class="caret" id="{{_id}}">
                                    <i class="nav-icon fas fa-sliders"></i>
                                    <a href="/configuration/explorer/view/{{_id}}"> {{name}}</a>
                                  </span>
                                  <ul class="nested"  >
                                    {{#let lv5 = (getChild _id)}}
                                    {{#each lv5}}
                                    <li>
                                      <span class="caret" id="{{_id}}">
                                        <i class="nav-icon fas fa-sliders"></i>
                                        <a href="/configuration/explorer/view/{{_id}}"> {{name}}</a>
                                      </span>
                                      <ul class="nested"  >
                                        {{#let lv6 = (getChild _id)}}
                                        {{#each lv6}}
                                        <li>
                                          <span class="caret" id="{{_id}}">
                                            <i class="nav-icon fas fa-sliders"></i>
                                            <a href="/configuration/explorer/view/{{_id}}"> {{name}}</a>
                                          </span>
                                          <ul class="nested" >
                                            {{#let lv7 = (getChild _id)}}
                                            {{#each lv7}}
                                            <li>
                                              <span class="caret" id="{{_id}}">
                                                <i class="nav-icon fas fa-sliders"></i>
                                                <a href="/configuration/explorer/view/{{_id}}"> {{name}}</a>
                                              </span>
                                              <ul class="nested"  >
                                                {{#let lv8 = (getChild _id)}}
                                                {{#each lv8}}
                                                <li>
                                                  <span class="caret" id="{{_id}}">
                                                    <i class="nav-icon fas fa-sliders"></i>
                                                    <a href="/configuration/explorer/view/{{_id}}"> {{name}}</a>
                                                  </span>
                                                  <ul class="nested"  >
                                                    {{#let lv9 = (getChild _id)}}
                                                    {{#each lv9}}
                                                    <li>
                                                      <span class="caret" id="{{_id}}">
                                                        <i class="nav-icon fas fa-sliders"></i>
                                                        <a href="/configuration/explorer/view/{{_id}}"> {{name}}</a>
                                                      </span>
                                                      <ul class="nested"  >
                                                      </ul>
                                                    </li>
                                                    {{/each}}
                                                    {{/let}}
                                                  </ul>
                                                </li>
                                                {{/each}}
                                                {{/let}}
                                              </ul>
                                            </li>
                                            {{/each}}
                                            {{/let}}
                                          </ul>
                                        </li>
                                        {{/each}}
                                        {{/let}}
                                      </ul>
                                    </li>
                                    {{/each}}
                                    {{/let}}
                                  </ul>
                                </li>
                                {{/each}}
                                {{/let}}
                              </ul>
                            </li>
                            {{/each}}
                            {{/let}}
                          </ul>
                        </li>
                        {{/each}}
                        {{/let}}
                      </ul>
                    </li>
                  </ul>
                  {{/each}}
                  <br>
                </div>
              </div>
              <div class="card">
                  <div class="card-header border-0">
                      <div class="row justify-content-between col-lg-12">
                          <div class="col-lg-6">
                              <h5 >Filter | Data Configuration Explorer</h5>
                          </div>
                          <div class="col-lg-6">
                            <a type="button" class="btn btn-success btn-sm float-right text-white" style="margin-right: -10px;" id="newExplorer"  data-toggle="modal" data-target="#modalNewExplorer" data-backdrop="static" title="New Explorer"><i class="fa-solid fa-plus"></i> New </a>

                            <!-- Modal New Explorer -->
                            <div class="modal fade" id="modalNewExplorer">
                              <div class="modal-dialog modal-dialog-scrollable modal-xl">
                                <div class="modal-content">
                                  <div class="modal-header">
                                    <h4 class="modal-title">Configuration Form </h4>
                                    <button type="button" class="close resetField" data-dismiss="modal" aria-label="Close">
                                      <span aria-hidden="true">&times;</span>
                                    </button>
                                  </div>
                                  <div class="modal-body">
                                      <div class="row col-12">
                                          <div class="col-lg-6">
                                              <div class="row card-body text-middle" style="padding-top:10px;padding-bottom: 10px;">
                                                <label class="col-md-5"> Configuration Type  <a class="text-danger">*</a></label>
                                                <select class="select2" id="configurationtype" >
                                                  <option value="" >-- Options --</option>
                                                  {{#each configuration_type}}
                                                    <option value="{{_id}}" >{{type_name}}</option>
                                                  {{/each}}
                                                </select>
                                              </div>
                                              <div class="row card-body text-middle" style="padding-top:10px;padding-bottom: 10px;">
                                                <label class="col-md-5"> Configuration Name <a class="text-danger">*</a></label>
                                                <input type="text" class="form-control col-md-7" id="configurationname"
                                                  placeholder="Name Configuration ...">
                                              </div>
                                              <div class="row card-body text-middle" style="padding-top:10px;padding-bottom: 10px;">
                                                <label class="col-md-5"> Parent Type </label>
                                                <select class="custom-select select2  col-md-7" id="parenttype" >
                                                  <option value="" >-- Options --</option>
                                                  {{#each configuration_parent_type}}
                                                    <option value="{{_id}}" >{{type_name}}</option>
                                                  {{/each}}
                                                </select>
                                              </div>
                                              <div class="row card-body text-middle" style="padding-top:10px;padding-bottom: 10px;">
                                              <label class="col-md-5"> Parent Configuration </label>
                                                <select class="custom-select select2 col-md-7" id="parentconfiguration" >
                                                  <option value="" >-- Options --</option>
                                                  {{#each configuration_parent}}
                                                    <option value="{{_id}}" >{{name}}</option>
                                                  {{/each}}
                                                </select>
                                              </div>
                                          </div>
                                          <div class="col-lg-6">
                                              <div class="row card-body text-middle" style="padding-top:10px;padding-bottom: 10px;">
                                                <label class="col-md-5"> Opening Date  <a class="text-danger">*</a></label>
                                                <input type="date" class="form-control col-md-7" id="openingDate"
                                                  placeholder="Configuration Type ...">
                                              </div>
                                              <div class="row card-body text-middle" style="padding-top:10px;padding-bottom: 10px;">
                                                <label class="col-md-5"> Closing Date  </label>
                                                <input type="date" class="form-control col-md-7" id="closingDate"
                                                  placeholder="Configuration Type ...">
                                              </div>
                                              <div class="row card-body text-middle" style="padding-top:10px;padding-bottom: 10px;">
                                                <label class="col-md-5"> Status Active </label>
                                                <input type="text" class="form-control col-md-7" id="status"
                                                  value="Active" readonly>
                                              </div>
                                              <div class="row card-body text-middle" style="padding-top:10px;padding-bottom: 10px;" id="divStockpiletype" hidden>
                                                <label class="col-md-5"> Type Stockpile </label>
                                                <select class="custom-select select2 col-md-7" id="typeStockpile" >
                                                  <option value="" >-- Options --</option>
                                                  <option value="WAG" >-- Options --</option>
                                                  <option value="FIFO" >-- Options --</option>
                                                  <option value="LIFO" >-- Options --</option>
                                                </select>
                                              </div>
                                          </div>
                                      </div><br>
                                    <div class="modal-footer justify-content-between">
                                      <button type="button" class="btn btn-default resetField" data-dismiss="modal">Close</button>
                                      <div class="col-sm-2">
                                        <button type="button" class="btn btn-block btn-success btnSave" id="savebtn"><i class="fas fa-save"></i>&nbsp; Save</button>
                                      </div>
                                    </div>
                                  </div>
                                </div>
                              </div> 
                            </div>
                          </div>
                      </div><hr>
                      <div class="row ">
                          <div class="col-lg-2">
                            <div class="form-group">
                              <label>Configuration Name</label>
                              <input type="text" value="" id="searchname" class="form-control">
                            </div>
                          </div>
                          <div class="col-2">
                            <div class="form-group">
                              <label>Configuration Type </label>
                              <input type="text" value="" id="searchtype" class="form-control">
                            </div>
                          </div>
                          <div class="col-2">
                            <div class="form-group">
                              <label>Parent Configuration</label>
                              <input type="text" value="" id="searchparent" class="form-control">
                            </div>
                          </div>
                          <div class="col-2">
                            <div class="form-group">
                              <label>Parent Type</label>
                              <input type="text" value="" id="searchparenttype" class="form-control">
                            </div>
                          </div>
                        </div>
                  </div>
                  <div class="card-body">
                      <div class="row d-flex justify-content-center">
                          {{#if eq isSubscriptionR false}}
                          <div class="spinner-border text-danger"></div>
                          Loading...
                          {{/if}}
                      </div>
                      {{> reactiveTable class="table table-striped table-hover table-sm table-valign-middle"
                      settings=configExplorer}}
                      
                  </div>
                  <br>
              </div>
            </div>
          </div>
        </div>
        <!-- /.container-fluid -->
      </div>
    </div>
  </template>
  
  <template name="detail_config">

    <a href="/configuration/explorer/view/{{_id}}" class="btn btn-xs text-info text-xs" id="view{{_id}}" title="View"><i
      class="fas fa-eye"></i></a> &nbsp;&nbsp;&nbsp;
    <!-- <button class="btn btn-xs text-danger btnCancel" id="delete{{_id}}" title="Delete"><i
      class="fas fa-trash"></i></button> -->
  </template>